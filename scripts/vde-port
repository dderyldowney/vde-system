#!/usr/bin/env zsh
#===============================================================================
# vde-port - Show port mappings for a VDE container
# Usage: vde-port <vm_name>
#===============================================================================

# Determine VDE root directory
VDE_ROOT_DIR="${0:a:h:h}"
export VDE_ROOT_DIR

# Source core libraries
[[ -f "$VDE_ROOT_DIR/scripts/lib/vde-shell-compat" ]] && source "$VDE_ROOT_DIR/scripts/lib/vde-shell-compat" &>/dev/null
[[ -f "$VDE_ROOT_DIR/scripts/lib/vde-constants" ]] && source "$VDE_ROOT_DIR/scripts/lib/vde-constants" &>/dev/null
[[ -f "$VDE_ROOT_DIR/scripts/lib/vde-errors" ]] && source "$VDE_ROOT_DIR/scripts/lib/vde-errors" &>/dev/null

# Check arguments
if [ -z "$1" ]; then
    vde_error_simple "VM name is required"
    echo "Usage: vde-port <vm_name>"
    exit $VDE_ERR_INVALID_INPUT
fi

VM_NAME="$1"

docker port "$VM_NAME"
exit $?
