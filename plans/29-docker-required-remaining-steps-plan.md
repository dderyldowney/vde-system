# Plan 29: Docker-Required Test Remediation - Remaining Steps

## Summary
Continuation of Plan 20/21 efforts to implement BDD step definitions for docker-required tests. Current progress: 660 passing steps, ~600 undefined remaining.

## Architecture Reference

### VDE Control Center
- **Primary Control:** [`@scripts/vde`](scripts/vde) - Master control script
- **Parser:** `vde-parser` - Natural language command parsing
- **Libraries:** [`@scripts/lib/`](scripts/lib) - VDE libraries (vde-constants, vde-commands, vde-parser, etc.)
- **Execution Flow:** `vde` → parses intent → executes scripts in [`@scripts/`](scripts/)

### Configuration Center
- **Docker Configs:** [`@configs/`](configs/) - Docker configurations for all VMs (VOLATILE - generated by templates)
- **Environment Files:** [`@env-files/`](env-files/) - Individual VM environment files (e.g., `python.env`, `rust.env`)
- **Source Configs:** `configs/docker/*/` - Source of truth for docker-compose configurations

### Data Directories
- **Data:** [`@data/`](data/) - Persistent data directories (postgres, redis, mongodb, etc.)

## Key Commands

All VDE operations flow through `scripts/vde`:

| Command | Purpose |
|---------|---------|
| `./vde create <type> <name>` | Create a new VM |
| `./vde start <name>` | Start a VM |
| `./vde stop <name>` | Stop a VM |
| `./vde restart <name>` | Restart a VM |
| `./vde ssh <name>` | SSH into VM |
| `./vde remove <name>` | Remove a VM |
| `./vde list` | List all VMs |
| `./vde status <name>` | Get VM status |
| `./vde connect <name>` | Connect to VM |

## Helper Function

All step definitions should use the `run_vde_command()` helper from `vm_common.py`:

```python
from tests.features.steps.vm_common import run_vde_command

# Example usage
result = run_vde_command(context, "create python test-python")
```

## Current Status

| Metric | Count |
|--------|-------|
| Passing Steps | 660 |
| Scenarios Passing | 51 |
| Remaining Steps | ~600 |

## Files Modified

| File | Purpose |
|------|---------|
| `tests/features/steps/vde_command_steps.py` | Natural language command patterns |
| `tests/features/steps/config_and_verification_steps.py` | Configuration patterns |
| `tests/features/steps/vm_project_steps.py` | VM Project patterns |
| `tests/features/steps/debugging_and_port_steps.py` | Debug patterns |
| `tests/features/steps/network_and_resource_steps.py` | Network patterns |
| `tests/features/steps/crash_recovery_steps.py` | Crash recovery patterns |
| `tests/features/steps/file_verification_steps.py` | File verification patterns |

## Next Steps

1. Continue implementing remaining step definitions
2. All steps must use `run_vde_command()` for real VDE execution
3. Use `docker ps` for container verification
4. Verify SSH configuration patterns
