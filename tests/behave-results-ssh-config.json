[
{"keyword": "Feature", "name": "SSH Configuration", "tags": ["user-guide-ssh-keys"], "location": "features/docker-required/ssh-configuration.feature:3", "status": "error", "description": ["As a developer", "I want automatic SSH agent forwarding and key management", "So that I can seamlessly access VMs and external services"], "elements": [{"type": "scenario", "keyword": "Scenario", "name": "Automatically start SSH agent if not running", "tags": [], "location": "features/docker-required/ssh-configuration.feature:8", "steps": [{"keyword": "Given", "step_type": "given", "name": "SSH agent is not running", "location": "features/docker-required/ssh-configuration.feature:9", "result": {"status": "undefined", "duration": 0}}, {"keyword": "And", "step_type": "given", "name": "SSH keys exist in ~/.ssh/", "location": "features/docker-required/ssh-configuration.feature:10"}, {"keyword": "When", "step_type": "when", "name": "I run any VDE command that requires SSH", "location": "features/docker-required/ssh-configuration.feature:11"}, {"keyword": "Then", "step_type": "then", "name": "SSH agent should be started", "location": "features/docker-required/ssh-configuration.feature:12"}, {"keyword": "And", "step_type": "then", "name": "available SSH keys should be loaded into agent", "location": "features/docker-required/ssh-configuration.feature:13"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Generate SSH key if none exists", "tags": [], "location": "features/docker-required/ssh-configuration.feature:15", "steps": [{"keyword": "Given", "step_type": "given", "name": "no SSH keys exist in ~/.ssh/", "location": "features/docker-required/ssh-configuration.feature:16", "match": {"location": "features/steps/ssh_config_steps.py:69", "arguments": []}, "result": {"status": "passed", "duration": 0.0014920234680175781}}, {"keyword": "When", "step_type": "when", "name": "I run any VDE command that requires SSH", "location": "features/docker-required/ssh-configuration.feature:17", "match": {"location": "features/steps/ssh_config_steps.py:44", "arguments": []}, "result": {"status": "error", "duration": 0.0008733272552490234}}, {"keyword": "Then", "step_type": "then", "name": "an ed25519 SSH key should be generated", "location": "features/docker-required/ssh-configuration.feature:18"}, {"keyword": "And", "step_type": "then", "name": "the public key should be synced to public-ssh-keys directory", "location": "features/docker-required/ssh-configuration.feature:19"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Sync public keys to VDE directory", "tags": [], "location": "features/docker-required/ssh-configuration.feature:21", "steps": [{"keyword": "Given", "step_type": "given", "name": "SSH keys exist in ~/.ssh/", "location": "features/docker-required/ssh-configuration.feature:22", "match": {"location": "features/steps/ssh_config_steps.py:37", "arguments": []}, "result": {"status": "passed", "duration": 0.00023984909057617188}}, {"keyword": "When", "step_type": "when", "name": "I run \"sync_ssh_keys_to_vde\"", "location": "features/docker-required/ssh-configuration.feature:23", "match": {"location": "features/steps/vm_status_steps.py:143", "arguments": [{"value": "sync_ssh_keys_to_vde", "name": "command"}]}, "result": {"status": "error", "duration": 0.0014557838439941406}}, {"keyword": "Then", "step_type": "then", "name": "public keys should be copied to \"public-ssh-keys\" directory", "location": "features/docker-required/ssh-configuration.feature:24"}, {"keyword": "And", "step_type": "then", "name": "only .pub files should be copied", "location": "features/docker-required/ssh-configuration.feature:25"}, {"keyword": "And", "step_type": "then", "name": ".keep file should exist in public-ssh-keys directory", "location": "features/docker-required/ssh-configuration.feature:26"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Validate public key files only", "tags": [], "location": "features/docker-required/ssh-configuration.feature:28", "steps": [{"keyword": "Given", "step_type": "given", "name": "public-ssh-keys directory contains files", "location": "features/docker-required/ssh-configuration.feature:29", "match": {"location": "features/steps/ssh_config_steps.py:149", "arguments": []}, "result": {"status": "passed", "duration": 0.0006380081176757812}}, {"keyword": "When", "step_type": "when", "name": "private key detection runs", "location": "features/docker-required/ssh-configuration.feature:30", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "non-.pub files should be rejected", "location": "features/docker-required/ssh-configuration.feature:31"}, {"keyword": "And", "step_type": "then", "name": "files containing \"PRIVATE KEY\" should be rejected", "location": "features/docker-required/ssh-configuration.feature:32"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Create SSH config entry for new VM", "tags": [], "location": "features/docker-required/ssh-configuration.feature:34", "steps": [{"keyword": "Given", "step_type": "given", "name": "VM \"python\" is created with SSH port \"2200\"", "location": "features/docker-required/ssh-configuration.feature:35", "match": {"location": "features/steps/ssh_config_steps.py:188", "arguments": [{"value": "python", "name": "vm"}, {"value": "2200", "name": "port"}]}, "result": {"status": "passed", "duration": 0.00015211105346679688}}, {"keyword": "When", "step_type": "when", "name": "SSH config is generated", "location": "features/docker-required/ssh-configuration.feature:36", "match": {"location": "features/steps/ssh_config_steps.py:195", "arguments": []}, "result": {"status": "error", "duration": 0.0002071857452392578}}, {"keyword": "Then", "step_type": "then", "name": "SSH config should contain \"Host python-dev\"", "location": "features/docker-required/ssh-configuration.feature:37"}, {"keyword": "And", "step_type": "then", "name": "SSH config should contain \"Port 2200\"", "location": "features/docker-required/ssh-configuration.feature:38"}, {"keyword": "And", "step_type": "then", "name": "SSH config should contain \"ForwardAgent yes\"", "location": "features/docker-required/ssh-configuration.feature:39"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "SSH config uses correct identity file", "tags": [], "location": "features/docker-required/ssh-configuration.feature:41", "steps": [{"keyword": "Given", "step_type": "given", "name": "primary SSH key is \"id_ed25519\"", "location": "features/docker-required/ssh-configuration.feature:42", "result": {"status": "undefined", "duration": 0}}, {"keyword": "When", "step_type": "when", "name": "SSH config entry is created for VM \"python\"", "location": "features/docker-required/ssh-configuration.feature:43"}, {"keyword": "Then", "step_type": "then", "name": "SSH config should contain \"IdentityFile\" pointing to \"~/.ssh/id_ed25519\"", "location": "features/docker-required/ssh-configuration.feature:44"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Generate VM-to-VM SSH config entries", "tags": [], "location": "features/docker-required/ssh-configuration.feature:46", "steps": [{"keyword": "Given", "step_type": "given", "name": "VM \"python\" is allocated port \"2200\"", "location": "features/docker-required/ssh-configuration.feature:47", "match": {"location": "features/steps/port_management_steps.py:24", "arguments": [{"value": "python", "name": "vm_name"}, {"value": "2200", "name": "port"}]}, "result": {"status": "passed", "duration": 0.0015349388122558594}}, {"keyword": "And", "step_type": "given", "name": "VM \"rust\" is allocated port \"2201\"", "location": "features/docker-required/ssh-configuration.feature:48", "match": {"location": "features/steps/port_management_steps.py:24", "arguments": [{"value": "rust", "name": "vm_name"}, {"value": "2201", "name": "port"}]}, "result": {"status": "passed", "duration": 0.0002961158752441406}}, {"keyword": "When", "step_type": "when", "name": "VM-to-VM SSH config is generated", "location": "features/docker-required/ssh-configuration.feature:49", "match": {"location": "features/steps/ssh_config_steps.py:248", "arguments": []}, "result": {"status": "error", "duration": 0.00020623207092285156}}, {"keyword": "Then", "step_type": "then", "name": "SSH config should contain entry for \"python-dev\"", "location": "features/docker-required/ssh-configuration.feature:50"}, {"keyword": "And", "step_type": "then", "name": "SSH config should contain entry for \"rust-dev\"", "location": "features/docker-required/ssh-configuration.feature:51"}, {"keyword": "And", "step_type": "then", "name": "each entry should use \"localhost\" as hostname", "location": "features/docker-required/ssh-configuration.feature:52"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Prevent duplicate SSH config entries", "tags": [], "location": "features/docker-required/ssh-configuration.feature:54", "steps": [{"keyword": "Given", "step_type": "given", "name": "SSH config already contains \"Host python-dev\"", "location": "features/docker-required/ssh-configuration.feature:55", "result": {"status": "undefined", "duration": 0}}, {"keyword": "When", "step_type": "when", "name": "I create VM \"python\" again", "location": "features/docker-required/ssh-configuration.feature:56"}, {"keyword": "Then", "step_type": "then", "name": "duplicate SSH config entry should NOT be created", "location": "features/docker-required/ssh-configuration.feature:57"}, {"keyword": "And", "step_type": "then", "name": "command should warn about existing entry", "location": "features/docker-required/ssh-configuration.feature:58"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Atomic SSH config update prevents corruption", "tags": [], "location": "features/docker-required/ssh-configuration.feature:60", "steps": [{"keyword": "Given", "step_type": "given", "name": "SSH config file exists", "location": "features/docker-required/ssh-configuration.feature:61", "match": {"location": "features/steps/ssh_agent_steps.py:67", "arguments": []}, "result": {"status": "passed", "duration": 0.0013840198516845703}}, {"keyword": "When", "step_type": "when", "name": "multiple processes try to update SSH config simultaneously", "location": "features/docker-required/ssh-configuration.feature:62", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "SSH config should remain valid", "location": "features/docker-required/ssh-configuration.feature:63"}, {"keyword": "And", "step_type": "then", "name": "no partial updates should occur", "location": "features/docker-required/ssh-configuration.feature:64"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Backup SSH config before modification", "tags": [], "location": "features/docker-required/ssh-configuration.feature:66", "steps": [{"keyword": "Given", "step_type": "given", "name": "SSH config file exists", "location": "features/docker-required/ssh-configuration.feature:67", "match": {"location": "features/steps/ssh_agent_steps.py:67", "arguments": []}, "result": {"status": "passed", "duration": 0.00022673606872558594}}, {"keyword": "When", "step_type": "when", "name": "SSH config is updated", "location": "features/docker-required/ssh-configuration.feature:68", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "backup file should be created in \"backup/ssh/\" directory", "location": "features/docker-required/ssh-configuration.feature:69"}, {"keyword": "And", "step_type": "then", "name": "backup filename should contain timestamp", "location": "features/docker-required/ssh-configuration.feature:70"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Remove SSH config entry when VM is removed", "tags": [], "location": "features/docker-required/ssh-configuration.feature:72", "steps": [{"keyword": "Given", "step_type": "given", "name": "SSH config contains \"Host python-dev\"", "location": "features/docker-required/ssh-configuration.feature:73", "result": {"status": "undefined", "duration": 0}}, {"keyword": "When", "step_type": "when", "name": "VM \"python\" is removed", "location": "features/docker-required/ssh-configuration.feature:74"}, {"keyword": "Then", "step_type": "then", "name": "SSH config should NOT contain \"Host python-dev\"", "location": "features/docker-required/ssh-configuration.feature:75"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "VM-to-VM communication uses agent forwarding", "tags": [], "location": "features/docker-required/ssh-configuration.feature:77", "steps": [{"keyword": "Given", "step_type": "given", "name": "SSH agent is running", "location": "features/docker-required/ssh-configuration.feature:78", "result": {"status": "undefined", "duration": 0}}, {"keyword": "And", "step_type": "given", "name": "keys are loaded into agent", "location": "features/docker-required/ssh-configuration.feature:79"}, {"keyword": "When", "step_type": "when", "name": "I SSH from \"python-dev\" to \"rust-dev\"", "location": "features/docker-required/ssh-configuration.feature:80"}, {"keyword": "Then", "step_type": "then", "name": "the connection should use host's SSH keys", "location": "features/docker-required/ssh-configuration.feature:81"}, {"keyword": "And", "step_type": "then", "name": "no keys should be stored on containers", "location": "features/docker-required/ssh-configuration.feature:82"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Detect all common SSH key types", "tags": [], "location": "features/docker-required/ssh-configuration.feature:84", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/ contains SSH keys", "location": "features/docker-required/ssh-configuration.feature:85", "result": {"status": "undefined", "duration": 0}}, {"keyword": "When", "step_type": "when", "name": "detect_ssh_keys runs", "location": "features/docker-required/ssh-configuration.feature:86"}, {"keyword": "Then", "step_type": "then", "name": "\"id_ed25519\" keys should be detected", "location": "features/docker-required/ssh-configuration.feature:87"}, {"keyword": "And", "step_type": "then", "name": "\"id_rsa\" keys should be detected", "location": "features/docker-required/ssh-configuration.feature:88"}, {"keyword": "And", "step_type": "then", "name": "\"id_ecdsa\" keys should be detected", "location": "features/docker-required/ssh-configuration.feature:89"}, {"keyword": "And", "step_type": "then", "name": "\"id_dsa\" keys should be detected", "location": "features/docker-required/ssh-configuration.feature:90"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Prefer ed25519 keys when multiple exist", "tags": [], "location": "features/docker-required/ssh-configuration.feature:92", "steps": [{"keyword": "Given", "step_type": "given", "name": "both \"id_ed25519\" and \"id_rsa\" keys exist", "location": "features/docker-required/ssh-configuration.feature:93", "result": {"status": "undefined", "duration": 0}}, {"keyword": "When", "step_type": "when", "name": "primary SSH key is requested", "location": "features/docker-required/ssh-configuration.feature:94"}, {"keyword": "Then", "step_type": "then", "name": "\"id_ed25519\" should be returned as primary key", "location": "features/docker-required/ssh-configuration.feature:95"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge new VM entry with existing SSH config", "tags": ["requires-docker-ssh"], "location": "features/docker-required/ssh-configuration.feature:102", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config exists with existing host entries", "location": "features/docker-required/ssh-configuration.feature:103", "match": {"location": "features/steps/pattern_steps.py:72", "arguments": []}, "result": {"status": "passed", "duration": 0.0015730857849121094}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/config contains \"Host github.com\"", "location": "features/docker-required/ssh-configuration.feature:104", "result": {"status": "undefined", "duration": 0}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/config contains \"Host myserver\"", "location": "features/docker-required/ssh-configuration.feature:105"}, {"keyword": "When", "step_type": "when", "name": "I create VM \"python\" with SSH port \"2200\"", "location": "features/docker-required/ssh-configuration.feature:106"}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh/config should still contain \"Host github.com\"", "location": "features/docker-required/ssh-configuration.feature:107"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config should still contain \"Host myserver\"", "location": "features/docker-required/ssh-configuration.feature:108"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config should contain new \"Host python-dev\" entry", "location": "features/docker-required/ssh-configuration.feature:109"}, {"keyword": "And", "step_type": "then", "name": "existing entries should be unchanged", "location": "features/docker-required/ssh-configuration.feature:110"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge preserves user's custom SSH settings", "tags": ["requires-docker-ssh"], "location": "features/docker-required/ssh-configuration.feature:113", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config exists with custom settings", "location": "features/docker-required/ssh-configuration.feature:114", "match": {"location": "features/steps/ssh_config_verification_steps.py:39", "arguments": []}, "result": {"status": "passed", "duration": 0.0015239715576171875}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/config contains \"Host *\"", "location": "features/docker-required/ssh-configuration.feature:115", "result": {"status": "undefined", "duration": 0}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/config contains \"    User myuser\"", "location": "features/docker-required/ssh-configuration.feature:116"}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/config contains \"    IdentityFile ~/.ssh/mykey\"", "location": "features/docker-required/ssh-configuration.feature:117"}, {"keyword": "When", "step_type": "when", "name": "I create VM \"rust\" with SSH port \"2201\"", "location": "features/docker-required/ssh-configuration.feature:118"}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh/config should still contain \"Host *\"", "location": "features/docker-required/ssh-configuration.feature:119"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config should still contain \"    User myuser\"", "location": "features/docker-required/ssh-configuration.feature:120"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config should still contain \"    IdentityFile ~/.ssh/mykey\"", "location": "features/docker-required/ssh-configuration.feature:121"}, {"keyword": "And", "step_type": "then", "name": "new \"Host rust-dev\" entry should be appended to end", "location": "features/docker-required/ssh-configuration.feature:122"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge preserves existing VDE entries when adding new VM", "tags": ["requires-docker-ssh"], "location": "features/docker-required/ssh-configuration.feature:125", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config contains \"Host python-dev\"", "location": "features/docker-required/ssh-configuration.feature:126", "result": {"status": "undefined", "duration": 0}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/config contains \"    Port 2200\"", "location": "features/docker-required/ssh-configuration.feature:127"}, {"keyword": "When", "step_type": "when", "name": "I create VM \"rust\" with SSH port \"2201\"", "location": "features/docker-required/ssh-configuration.feature:128"}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh/config should still contain \"Host python-dev\"", "location": "features/docker-required/ssh-configuration.feature:129"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config should still contain \"    Port 2200\" under python-dev", "location": "features/docker-required/ssh-configuration.feature:130"}, {"keyword": "And", "step_type": "then", "name": "new \"Host rust-dev\" entry should be added", "location": "features/docker-required/ssh-configuration.feature:131"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge does not duplicate existing VDE entries", "tags": [], "location": "features/docker-required/ssh-configuration.feature:133", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config contains \"Host python-dev\"", "location": "features/docker-required/ssh-configuration.feature:134", "result": {"status": "undefined", "duration": 0}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/config contains python-dev configuration", "location": "features/docker-required/ssh-configuration.feature:135"}, {"keyword": "When", "step_type": "when", "name": "I attempt to create VM \"python\" again", "location": "features/docker-required/ssh-configuration.feature:136"}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh/config should contain only one \"Host python-dev\" entry", "location": "features/docker-required/ssh-configuration.feature:137"}, {"keyword": "And", "step_type": "then", "name": "error should indicate entry already exists", "location": "features/docker-required/ssh-configuration.feature:138"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Atomic merge prevents corruption if interrupted", "tags": [], "location": "features/docker-required/ssh-configuration.feature:140", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config exists with content", "location": "features/docker-required/ssh-configuration.feature:141", "match": {"location": "features/steps/pattern_steps.py:65", "arguments": []}, "result": {"status": "passed", "duration": 0.0003991127014160156}}, {"keyword": "When", "step_type": "when", "name": "merge_ssh_config_entry starts but is interrupted", "location": "features/docker-required/ssh-configuration.feature:142", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh/config should either be original or fully updated", "location": "features/docker-required/ssh-configuration.feature:143"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config should NOT be partially written", "location": "features/docker-required/ssh-configuration.feature:144"}, {"keyword": "And", "step_type": "then", "name": "original config should be preserved in backup", "location": "features/docker-required/ssh-configuration.feature:145"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge uses temporary file then atomic rename", "tags": [], "location": "features/docker-required/ssh-configuration.feature:147", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config exists", "location": "features/docker-required/ssh-configuration.feature:148", "match": {"location": "features/steps/ssh_config_verification_steps.py:32", "arguments": []}, "result": {"status": "passed", "duration": 0.00023794174194335938}}, {"keyword": "When", "step_type": "when", "name": "new SSH entry is merged", "location": "features/docker-required/ssh-configuration.feature:149", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "temporary file should be created first", "location": "features/docker-required/ssh-configuration.feature:150"}, {"keyword": "Then", "step_type": "then", "name": "content should be written to temporary file", "location": "features/docker-required/ssh-configuration.feature:151"}, {"keyword": "Then", "step_type": "then", "name": "atomic mv should replace original config", "location": "features/docker-required/ssh-configuration.feature:152"}, {"keyword": "Then", "step_type": "then", "name": "temporary file should be removed", "location": "features/docker-required/ssh-configuration.feature:153"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge creates SSH config if it doesn't exist", "tags": [], "location": "features/docker-required/ssh-configuration.feature:155", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config does not exist", "location": "features/docker-required/ssh-configuration.feature:156", "match": {"location": "features/steps/ssh_config_verification_steps.py:25", "arguments": []}, "result": {"status": "passed", "duration": 0.00023317337036132812}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh directory exists or can be created", "location": "features/docker-required/ssh-configuration.feature:157", "result": {"status": "undefined", "duration": 0}}, {"keyword": "When", "step_type": "when", "name": "I create VM \"python\" with SSH port \"2200\"", "location": "features/docker-required/ssh-configuration.feature:158"}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh/config should be created", "location": "features/docker-required/ssh-configuration.feature:159"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config should have permissions \"600\"", "location": "features/docker-required/ssh-configuration.feature:160"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config should contain \"Host python-dev\"", "location": "features/docker-required/ssh-configuration.feature:161"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge creates .ssh directory if needed", "tags": [], "location": "features/docker-required/ssh-configuration.feature:163", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh directory does not exist", "location": "features/docker-required/ssh-configuration.feature:164", "result": {"status": "undefined", "duration": 0}}, {"keyword": "When", "step_type": "when", "name": "I create VM \"python\" with SSH port \"2200\"", "location": "features/docker-required/ssh-configuration.feature:165"}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh directory should be created", "location": "features/docker-required/ssh-configuration.feature:166"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config should be created", "location": "features/docker-required/ssh-configuration.feature:167"}, {"keyword": "And", "step_type": "then", "name": "directory should have correct permissions", "location": "features/docker-required/ssh-configuration.feature:168"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge preserves blank lines and formatting", "tags": [], "location": "features/docker-required/ssh-configuration.feature:170", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config exists with blank lines", "location": "features/docker-required/ssh-configuration.feature:171", "match": {"location": "features/steps/pattern_steps.py:56", "arguments": []}, "result": {"status": "passed", "duration": 0.0004088878631591797}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/config has comments and custom formatting", "location": "features/docker-required/ssh-configuration.feature:172", "match": {"location": "features/steps/pattern_steps.py:81", "arguments": []}, "result": {"status": "passed", "duration": 0.00023889541625976562}}, {"keyword": "When", "step_type": "when", "name": "I create VM \"go\" with SSH port \"2202\"", "location": "features/docker-required/ssh-configuration.feature:173", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh/config blank lines should be preserved", "location": "features/docker-required/ssh-configuration.feature:174"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config comments should be preserved", "location": "features/docker-required/ssh-configuration.feature:175"}, {"keyword": "And", "step_type": "then", "name": "new entry should be added with proper formatting", "location": "features/docker-required/ssh-configuration.feature:176"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge respects file locking for concurrent updates", "tags": [], "location": "features/docker-required/ssh-configuration.feature:178", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config exists", "location": "features/docker-required/ssh-configuration.feature:179", "match": {"location": "features/steps/ssh_config_verification_steps.py:32", "arguments": []}, "result": {"status": "passed", "duration": 0.00023889541625976562}}, {"keyword": "And", "step_type": "given", "name": "multiple processes try to add SSH entries simultaneously", "location": "features/docker-required/ssh-configuration.feature:180", "result": {"status": "undefined", "duration": 0}}, {"keyword": "When", "step_type": "when", "name": "merge operations complete", "location": "features/docker-required/ssh-configuration.feature:181"}, {"keyword": "Then", "step_type": "then", "name": "all VM entries should be present", "location": "features/docker-required/ssh-configuration.feature:182"}, {"keyword": "And", "step_type": "then", "name": "no entries should be lost", "location": "features/docker-required/ssh-configuration.feature:183"}, {"keyword": "And", "step_type": "then", "name": "config file should be valid", "location": "features/docker-required/ssh-configuration.feature:184"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge creates backup before any modification", "tags": [], "location": "features/docker-required/ssh-configuration.feature:186", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config exists", "location": "features/docker-required/ssh-configuration.feature:187", "match": {"location": "features/steps/ssh_config_verification_steps.py:32", "arguments": []}, "result": {"status": "passed", "duration": 0.00023603439331054688}}, {"keyword": "When", "step_type": "when", "name": "I create VM \"python\" with SSH port \"2200\"", "location": "features/docker-required/ssh-configuration.feature:188", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "backup file should exist at \"backup/ssh/config.backup.YYYYMMDD_HHMMSS\"", "location": "features/docker-required/ssh-configuration.feature:189"}, {"keyword": "And", "step_type": "then", "name": "backup should contain original config content", "location": "features/docker-required/ssh-configuration.feature:190"}, {"keyword": "And", "step_type": "then", "name": "backup timestamp should be before modification", "location": "features/docker-required/ssh-configuration.feature:191"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge entry has all required SSH config fields", "tags": ["requires-docker-ssh"], "location": "features/docker-required/ssh-configuration.feature:194", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config exists", "location": "features/docker-required/ssh-configuration.feature:195", "match": {"location": "features/steps/ssh_config_verification_steps.py:32", "arguments": []}, "result": {"status": "passed", "duration": 0.0002429485321044922}}, {"keyword": "When", "step_type": "when", "name": "I create VM \"python\" with SSH port \"2200\"", "location": "features/docker-required/ssh-configuration.feature:196", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "merged entry should contain \"Host python-dev\"", "location": "features/docker-required/ssh-configuration.feature:197"}, {"keyword": "And", "step_type": "then", "name": "merged entry should contain \"HostName localhost\"", "location": "features/docker-required/ssh-configuration.feature:198"}, {"keyword": "And", "step_type": "then", "name": "merged entry should contain \"Port 2200\"", "location": "features/docker-required/ssh-configuration.feature:199"}, {"keyword": "And", "step_type": "then", "name": "merged entry should contain \"User devuser\"", "location": "features/docker-required/ssh-configuration.feature:200"}, {"keyword": "And", "step_type": "then", "name": "merged entry should contain \"ForwardAgent yes\"", "location": "features/docker-required/ssh-configuration.feature:201"}, {"keyword": "And", "step_type": "then", "name": "merged entry should contain \"StrictHostKeyChecking no\"", "location": "features/docker-required/ssh-configuration.feature:202"}, {"keyword": "And", "step_type": "then", "name": "merged entry should contain \"IdentityFile\" pointing to detected key", "location": "features/docker-required/ssh-configuration.feature:203"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Merge removes VM entry when VM is removed", "tags": ["requires-docker-ssh"], "location": "features/docker-required/ssh-configuration.feature:206", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/config contains \"Host python-dev\"", "location": "features/docker-required/ssh-configuration.feature:207", "result": {"status": "undefined", "duration": 0}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/config contains \"Host rust-dev\"", "location": "features/docker-required/ssh-configuration.feature:208"}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/config contains user's \"Host github.com\" entry", "location": "features/docker-required/ssh-configuration.feature:209"}, {"keyword": "When", "step_type": "when", "name": "I remove VM for SSH cleanup \"python\"", "location": "features/docker-required/ssh-configuration.feature:210"}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh/config should NOT contain \"Host python-dev\"", "location": "features/docker-required/ssh-configuration.feature:211"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config should still contain \"Host rust-dev\"", "location": "features/docker-required/ssh-configuration.feature:212"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/config should still contain \"Host github.com\"", "location": "features/docker-required/ssh-configuration.feature:213"}, {"keyword": "And", "step_type": "then", "name": "user's entries should be preserved", "location": "features/docker-required/ssh-configuration.feature:214"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Remove known_hosts entry when VM is removed", "tags": ["requires-docker-ssh"], "location": "features/docker-required/ssh-configuration.feature:221", "steps": [{"keyword": "Given", "step_type": "given", "name": "VM \"python\" is created with SSH port \"2200\"", "location": "features/docker-required/ssh-configuration.feature:222", "match": {"location": "features/steps/ssh_config_steps.py:188", "arguments": [{"value": "python", "name": "vm"}, {"value": "2200", "name": "port"}]}, "result": {"status": "passed", "duration": 0.00015807151794433594}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/known_hosts contains entry for \"[localhost]:2200\"", "location": "features/docker-required/ssh-configuration.feature:223", "match": {"location": "features/steps/ssh_known_hosts_steps.py:30", "arguments": [{"value": "[localhost]:2200", "name": "pattern"}]}, "result": {"status": "passed", "duration": 0.001558065414428711}}, {"keyword": "When", "step_type": "when", "name": "I remove VM for SSH cleanup \"python\"", "location": "features/docker-required/ssh-configuration.feature:224", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh/known_hosts should NOT contain entry for \"[localhost]:2200\"", "location": "features/docker-required/ssh-configuration.feature:225"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/known_hosts should NOT contain entry for \"[::1]:2200\"", "location": "features/docker-required/ssh-configuration.feature:226"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Remove multiple hostname patterns from known_hosts", "tags": ["requires-docker-ssh"], "location": "features/docker-required/ssh-configuration.feature:229", "steps": [{"keyword": "Given", "step_type": "given", "name": "VM \"postgres\" is created with SSH port \"2400\"", "location": "features/docker-required/ssh-configuration.feature:230", "match": {"location": "features/steps/ssh_config_steps.py:188", "arguments": [{"value": "postgres", "name": "vm"}, {"value": "2400", "name": "port"}]}, "result": {"status": "passed", "duration": 0.00015473365783691406}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/known_hosts contains \"[localhost]:2400\"", "location": "features/docker-required/ssh-configuration.feature:231", "match": {"location": "features/steps/ssh_connection_steps.py:106", "arguments": []}, "result": {"status": "passed", "duration": 0.0013880729675292969}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/known_hosts contains \"[::1]:2400\"", "location": "features/docker-required/ssh-configuration.feature:232", "match": {"location": "features/steps/ssh_connection_steps.py:99", "arguments": []}, "result": {"status": "passed", "duration": 0.00015592575073242188}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/known_hosts contains \"postgres\" hostname entry", "location": "features/docker-required/ssh-configuration.feature:233", "match": {"location": "features/steps/ssh_known_hosts_steps.py:51", "arguments": [{"value": "postgres", "name": "hostname"}]}, "result": {"status": "passed", "duration": 0.0005030632019042969}}, {"keyword": "When", "step_type": "when", "name": "I remove VM for SSH cleanup \"postgres\"", "location": "features/docker-required/ssh-configuration.feature:234", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh/known_hosts should NOT contain \"[localhost]:2400\"", "location": "features/docker-required/ssh-configuration.feature:235"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/known_hosts should NOT contain \"[::1]:2400\"", "location": "features/docker-required/ssh-configuration.feature:236"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/known_hosts should NOT contain \"postgres\" entry", "location": "features/docker-required/ssh-configuration.feature:237"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Create backup of known_hosts before cleanup", "tags": ["requires-docker-ssh"], "location": "features/docker-required/ssh-configuration.feature:240", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/known_hosts exists with content", "location": "features/docker-required/ssh-configuration.feature:241", "match": {"location": "features/steps/ssh_known_hosts_steps.py:89", "arguments": []}, "result": {"status": "passed", "duration": 0.0005130767822265625}}, {"keyword": "And", "step_type": "given", "name": "VM \"redis\" is created with SSH port \"2401\"", "location": "features/docker-required/ssh-configuration.feature:242", "match": {"location": "features/steps/ssh_config_steps.py:188", "arguments": [{"value": "redis", "name": "vm"}, {"value": "2401", "name": "port"}]}, "result": {"status": "passed", "duration": 0.00016117095947265625}}, {"keyword": "When", "step_type": "when", "name": "I remove VM for SSH cleanup \"redis\"", "location": "features/docker-required/ssh-configuration.feature:243", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "known_hosts backup file should exist at \"~/.ssh/known_hosts.vde-backup\"", "location": "features/docker-required/ssh-configuration.feature:244"}, {"keyword": "And", "step_type": "then", "name": "backup should contain original content", "location": "features/docker-required/ssh-configuration.feature:245"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Known_hosts cleanup handles missing file gracefully", "tags": ["requires-docker-ssh"], "location": "features/docker-required/ssh-configuration.feature:248", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/known_hosts does not exist", "location": "features/docker-required/ssh-configuration.feature:249", "match": {"location": "features/steps/ssh_known_hosts_steps.py:97", "arguments": []}, "result": {"status": "passed", "duration": 0.0010828971862792969}}, {"keyword": "And", "step_type": "given", "name": "VM \"python\" is created with SSH port \"2200\"", "location": "features/docker-required/ssh-configuration.feature:250", "match": {"location": "features/steps/ssh_config_steps.py:188", "arguments": [{"value": "python", "name": "vm"}, {"value": "2200", "name": "port"}]}, "result": {"status": "passed", "duration": 0.00014519691467285156}}, {"keyword": "When", "step_type": "when", "name": "I remove VM for SSH cleanup \"python\"", "location": "features/docker-required/ssh-configuration.feature:251", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "command should succeed without error", "location": "features/docker-required/ssh-configuration.feature:252"}, {"keyword": "And", "step_type": "then", "name": "no known_hosts file should be created", "location": "features/docker-required/ssh-configuration.feature:253"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Known_hosts cleanup removes entries by port number", "tags": ["requires-docker-ssh"], "location": "features/docker-required/ssh-configuration.feature:256", "steps": [{"keyword": "Given", "step_type": "given", "name": "~/.ssh/known_hosts contains multiple port entries", "location": "features/docker-required/ssh-configuration.feature:257", "match": {"location": "features/steps/ssh_known_hosts_steps.py:66", "arguments": []}, "result": {"status": "passed", "duration": 0.0005350112915039062}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/known_hosts contains \"[localhost]:2200\"", "location": "features/docker-required/ssh-configuration.feature:258", "match": {"location": "features/steps/ssh_connection_steps.py:92", "arguments": []}, "result": {"status": "passed", "duration": 0.00017213821411132812}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/known_hosts contains \"[localhost]:2400\"", "location": "features/docker-required/ssh-configuration.feature:259", "match": {"location": "features/steps/ssh_connection_steps.py:106", "arguments": []}, "result": {"status": "passed", "duration": 0.0001609325408935547}}, {"keyword": "When", "step_type": "when", "name": "VM with port \"2200\" is removed", "location": "features/docker-required/ssh-configuration.feature:260", "result": {"status": "undefined", "duration": 0}}, {"keyword": "Then", "step_type": "then", "name": "~/.ssh/known_hosts should NOT contain \"[localhost]:2200\"", "location": "features/docker-required/ssh-configuration.feature:261"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/known_hosts should still contain \"[localhost]:2400\"", "location": "features/docker-required/ssh-configuration.feature:262"}], "status": "error"}, {"type": "scenario", "keyword": "Scenario", "name": "Recreating VM after removal succeeds without host key warning", "tags": ["requires-docker-ssh"], "location": "features/docker-required/ssh-configuration.feature:265", "steps": [{"keyword": "Given", "step_type": "given", "name": "VM \"python\" was previously created with SSH port \"2200\"", "location": "features/docker-required/ssh-configuration.feature:266", "result": {"status": "undefined", "duration": 0}}, {"keyword": "And", "step_type": "given", "name": "~/.ssh/known_hosts had old entry for \"[localhost]:2200\"", "location": "features/docker-required/ssh-configuration.feature:267"}, {"keyword": "When", "step_type": "when", "name": "I remove VM for SSH cleanup \"python\"", "location": "features/docker-required/ssh-configuration.feature:268"}, {"keyword": "And", "step_type": "when", "name": "I create VM \"python\" with SSH port \"2200\"", "location": "features/docker-required/ssh-configuration.feature:269"}, {"keyword": "Then", "step_type": "then", "name": "SSH connection should succeed without host key warning", "location": "features/docker-required/ssh-configuration.feature:270"}, {"keyword": "And", "step_type": "then", "name": "~/.ssh/known_hosts should contain new entry for \"[localhost]:2200\"", "location": "features/docker-required/ssh-configuration.feature:271"}], "status": "error"}]}
]
